#summary overview of source conventions.

This document describes how developers and contributors should write code. The reasoning of these styles and conventions is mainly for consistency, readability and maintainability reasons.

=Generic Code Style And Convention=

All working files (java, xml, others) should respect the following conventions:

 * License Header: Always add the current ASF license header in all versionned files.
 * Trailing Whitespaces: Remove all trailing whitespaces. If your are an Eclipse user, you could use the Anyedit Eclipse Plugin.

and the following style:

 * Indentation: Always use 2 space indents and never use tabs!
                _Massimo: I feel tabs would be better but as i don't feel that stronger about that i can live with that_
 * Line wrapping: Always use a 120-column line width.

Note: The specific styles and conventions, listed in the next sections, could override these generic rules.

===Java===
Java Code Style

The style for Java is mainly:

 * White space: One space after control statements and between arguments (i.e. if ( foo ) instead of if(foo)), myFunc( foo, bar, baz ) instead of myFunc(foo,bar,baz)). No spaces after methods names (i.e. void myMethod(), myMethod( "foo" ))
 * Indentation: Always use 4 space indents and never use tabs!
 * Blocks: Always enclose with a new line brace.
 * Readingness: Specify code grouping members, if needed. For instance in a Mojo class, you could have:

{{{
      public class MyMojo
      {
          // ----------------------------------------------------------------------
          // Mojo components
          // ----------------------------------------------------------------------

          /**
           * Artifact factory.
           *
           * @component
           */
          private ArtifactFactory artifactFactory;

          ...

          // ----------------------------------------------------------------------
          // Mojo parameters
          // ----------------------------------------------------------------------

          /**
           * The POM.
           *
           * @parameter expression="${project}"
           * @required
           */
          private MavenProject project;

          ...

          // ----------------------------------------------------------------------
          // Mojo options
          // ----------------------------------------------------------------------
          ...

          // ----------------------------------------------------------------------
          // Public methods
          // ----------------------------------------------------------------------

          /**
           * {@inheritDoc}
           */
          public void execute()
              throws MojoExecutionException
          {
            ...
          }

          // ----------------------------------------------------------------------
          // Protected methods
          // ----------------------------------------------------------------------
          ...

          // ----------------------------------------------------------------------
          // Private methods
          // ----------------------------------------------------------------------
          ...

          // ----------------------------------------------------------------------
          // Static methods
          // ----------------------------------------------------------------------
          ...
      }
}}}

 _Massimo: Couldn't we just agree on an ordering instead of put that comments within code?_

 * Indentation: Always use 2 space indents, unless you're wrapping a line in which case you should indent 4 spaces or indent to line up arguments.
 * Line wrapping: Always use a 120-column line width for Java code and Javadoc.

=== copyrights ===

The ASF copyright must appear on all Java source files. Technically it should appear on all non-binary files in the repository.

As you make changes to files, update the copyright to add the current year to the list. The goal is that the copyright notice includes the year in which files change. When creating a new file, don't back date the copyright year ... start with the current year. Try not to change the copyright year on files that haven't actually changed.

IntelliJ has a great comparison view: Cmd-9 to see the local changes, the Cmd-D to see the differences. I whip through the changes (using Cmd-forward arrow) and make sure copyrights are up to date as I review the changes prior to a commit.

=== source header ===
{{{
/*
 * Apache License
 * Version 2.0, January 2004
 * http://www.apache.org/licenses/
 *
 * Copyright 2008 by chenillekit.org
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */
}}}

=== class header ===
{{{
/**
 * class description.
 *
 * @author <a href="mailto:your@email.com">my name</a>
 * @version $Id$
 */
}}}

_Massimo: Would it be better to remove the author tag? If we feel it deserved we should put that in the source header_

=== method header ===
{{{
/**
 * method description.
 *
 * @param myParameter my parameter description
 * @return this method returns a value
 */
}}}